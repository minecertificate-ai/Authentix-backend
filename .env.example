# ============================================================================
# AUTHENTIX BACKEND - ENVIRONMENT VARIABLES
# ============================================================================
# Copy this file to .env and fill in your actual values
# cp .env.example .env

# ============================================================================
# REQUIRED - Supabase Configuration
# ============================================================================
SUPABASE_URL=https://your-project.supabase.co
SUPABASE_SERVICE_ROLE_KEY=your_service_role_key_here
SUPABASE_ANON_KEY=your_anon_key_here

# ============================================================================
# SERVER CONFIGURATION (Optional with defaults)
# ============================================================================
# Backend server port (default: 3001)
# Frontend runs on port 3000, so backend uses 3001 to avoid conflicts
PORT=3001

# Frontend URL for CORS (default: http://localhost:3000)
FRONTEND_URL=http://localhost:3000

# Server host (default: 0.0.0.0)
HOST=0.0.0.0

# Node environment: development, production, or test (default: development)
NODE_ENV=development

# Log level: trace, debug, info, warn, error, fatal (default: info)
LOG_LEVEL=info

# ============================================================================
# RAZORPAY CONFIGURATION (Optional, for Billing)
# ============================================================================
# Test environment
RAZORPAY_KEY_ID_TEST=your_test_key_id
RAZORPAY_KEY_SECRET_TEST=your_test_key_secret
RAZORPAY_WEBHOOK_SECRET_TEST=your_test_webhook_secret

# Production environment
RAZORPAY_KEY_ID_PROD=your_prod_key_id
RAZORPAY_KEY_SECRET_PROD=your_prod_key_secret
RAZORPAY_WEBHOOK_SECRET_PROD=your_prod_webhook_secret

# ============================================================================
# SECURITY FEATURE FLAGS (Optional with defaults)
# ============================================================================
# Strict CORS enforcement (default: true)
CORS_STRICT_MODE=true

# CSRF enforcement mode: cookie, all, or off (default: cookie)
CSRF_ENFORCEMENT=cookie

# Rate limiting enabled (default: true)
RATE_LIMIT_ENABLED=true

# Helmet security headers enabled (default: true)
HELMET_ENABLED=true

# ============================================================================
# PERFORMANCE CONFIGURATION (Optional with defaults)
# ============================================================================
# JWT cache enabled (default: true)
JWT_CACHE_ENABLED=true

# JWT cache TTL in seconds (default: 3600 = 1 hour)
JWT_CACHE_TTL=3600

# Dashboard cache TTL in seconds (default: 60)
DASHBOARD_CACHE_TTL=60

# Signed URL cache enabled (default: true)
SIGNED_URL_CACHE_ENABLED=true

# ============================================================================
# TEMPLATES CONFIGURATION (Optional with defaults)
# ============================================================================
# Include preview in default template queries (default: false)
TEMPLATES_DEFAULT_INCLUDE_PREVIEW=false

# ============================================================================
# LOGGING CONFIGURATION (Optional with defaults)
# ============================================================================
# Slow request threshold in milliseconds (default: 500)
SLOW_REQUEST_THRESHOLD=500

# Enable log redaction (default: true)
LOG_REDACTION_ENABLED=true

# ============================================================================
# IDEMPOTENCY CONFIGURATION (Optional with defaults)
# ============================================================================
# Idempotency enabled (default: true)
IDEMPOTENCY_ENABLED=true

# Idempotency TTL in seconds (default: 86400 = 24 hours)
IDEMPOTENCY_TTL=86400

# ============================================================================
# PAGINATION CONFIGURATION (Optional with defaults)
# ============================================================================
# Maximum page limit (default: 100)
MAX_PAGE_LIMIT=100

# ============================================================================
# OPTIONAL - Cookie Secret (for signing cookies)
# ============================================================================
# Generate a random secret: openssl rand -base64 32
COOKIE_SECRET=your_cookie_secret_here
